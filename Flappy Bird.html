<html>
<canvas id="gameCanvas" width="600" height="800"></canvas>
<div style="display:none;">
  <img id="source" src="http://imgur.com/vpmxZkz.jpg"
       width="600" height="800">
</div>
<script>
//Variables
	//Bird vars
var birdY = 400;
var birdSpeedY = 7.5;
var jumpPeriod = 4;
	//Pipe Vars
var pipe1H = Math.random()*1000;
var pipe2H = Math.random()*-1000;
var pipesW = 630;
var pipesSpeedX = 5;
	//Score Vars
var score = 0;
window.onload = function() {
	canvas = document.getElementById('gameCanvas' );
	ctx = canvas.getContext('2d');
	image = document.getElementById('source');
var framesPerSecond=30;	
setInterval(function() {
	birdHit()
	gravity()
	drawAll()
	validPipe()
	addScore()
	resetPipes()
	moveAll()}, 1200/framesPerSecond)
}
//Scoring system
function addScore(){
	ctx.fillStyle = 'white'
	ctx.font = "30px Arial"
	ctx.fillText(score, canvas.width/2, 50)
	if(pipesW<=-60){
		score+=1
	}
}
//Reset Pipes when at edge
function resetPipes(){
	if(pipesW<=-60){
		pipesW=660
		randomizePipeH();
		validPipe()
	}
}
//Randomize height
function randomizePipeH(){
		pipe1H = Math.random()*1000;
		pipe2H = Math.random()*-1000;
}
//Check if pipe gap is vaible for bird to pass through
function validPipe(){
	if(pipe2H-pipe1H<=-720|pipe2H-pipe1H>=-500){
	pipe1H = Math.random()*1000;
	pipe2H = Math.random()*-1000;
	} else {
		drawPipes()
	}
}
//Draw the pipes
function drawPipes(){
	colorRect(pipesW, 0, 60, pipe1H, '#92c504')
	colorRect(pipesW, 800, 60, pipe2H, '#92c504')
}
//Pull bird down
function gravity() {
	if(jumpPeriod < 4){
		jumpPeriod+=.5;
		birdY-=15
	}
}
//Reset bird to middle
function birdReset(){
	birdY=400
}
//Check if bird hit anything
function birdHit(){
	if(birdY<=pipe1H|pipe2H-birdY<-800 && pipesW<=30 && pipesW>0){
		birdReset()
		score = 0
		pipesW = 660
	} else if(birdY>canvas.height){
		birdReset()
		score = 0
		pipesW = 660
	}
}
//Move all objects
function moveAll(){
	pipesW-=pipesSpeedX
	birdY= birdY+birdSpeedY
	document.body.onkeyup = function(e){
    if(e.keyCode == 32){
		jumpPeriod*=-1
		}
	}
}
//Draw all objects
function drawAll() {
	ctx.drawImage(image, 0, 0)
	colorCircle(30,birdY,15,'#FBE562')
	
}
//Shortening functions
function colorRect(leftX, topY, width,height, drawColor) {
	ctx.fillStyle = drawColor ;
	ctx.fillRect(leftX,topY,width,height);
}
function colorCircle(centerX, centerY, radius, drawColor) {
	ctx.fillStyle = drawColor;
	ctx.beginPath();
	ctx.arc(centerX, centerY, radius, 0, Math.PI*2, true);
	ctx.fill();
}






</script>

</html>